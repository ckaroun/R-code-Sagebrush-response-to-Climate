{
    "contents" : "### Author: Chris Karounos\n### Purpose: Loading climate and ring data, creating model for ring response\n### Date Modified: 25 April 2016\n\n# In Rstudio if you click Session>Set Working Directory > To Source File Location . This code should work in anyones locally cloned repository without having to modify the filepaths for loading data\n\n# Load (read) into R the PRISM Climate data I sent out \n# and store (<-) the data as the variable Precip3200; Precip3500; Precip3800 \nPrecip3200m<-read.csv(\"Monthly3200mPrecipdf.csv\") # Change the filepath in the quotations to where the Monthly3200m csv file is on your computer. For example it might be in your downloads folder: C:/Users/Tower/Downloads/\nPrecip3500m<-read.csv(\"Monthly3500mPrecipdf.csv\") # Do the same thing for all the Monthly-Precip data files\nPrecip3800m<-read.csv(\"Monthly3800mPrecipdf.csv\")\n\nTemp3200m<-read.csv(\"Monthly3200mTempdf.csv\")# And also the Monthly-Temp data files\nTemp3500m<-read.csv(\"Monthly3500mTempdf.csv\")# Remember to change all the filepaths to where you have the files\nTemp3800m<-read.csv(\"Monthly3800mTempdf.csv\")\n\n# For the next part we need to use a function (read.rwl) that is not part of the standard \"base\" developement of R so we have to install the package called \"dplR\"\nif(install.packages(\"dplR\")\n\n# Now that the dplR package is installed we need tell R that we want to use it in the current code document (TreeRingMeeting.R) \nlibrary(dplR)\n\n# Load (read) into R the Sagebrush chronologies that were made in Cdendro\nRings3200m<-read.rwl(\"3200mSagebrushRings.rwl\") # The chronologies were grouped by elevation.\nRings3500m<-read.rwl(\"3500mSagebrushRings.rwl\") # Load (read) the other two chronologies at 3500m and 3800m above sea level\nRings3800m<-read.rwl(\"3800mSagebrushRings.rwl\")\n\n# You can use plot to compare all the individual chronologies in a collection\nplot(Rings3800m, plot.type = \"spag\")\n\n# We need to summarize the Precip data to be the total precipitation for a given year during the growing season (maybe March - September)\n#   We have to do this because we have yearly and not monthly values for radial growth of Sagebrush\n# Install an external package\n#install.packages(\"dplyr\")\n# Tell R to use that package for this code\nlibrary(dplyr)\n\n# Group the data by year\nGroupedPrecip3200m<-group_by(Precip3200m, Year)\n#Use summarize to get the total precip for each year. I couldn't think of a way to use summarize to get the total precip for only the growing season ( March- September) {Month < 10 && Month > 3}\nYearlyPrecip3200m<-summarize(GroupedPrecip3200m, sum(Precipitation))\n# Convert YearlyPrecip3200m to a matrix so that we can use it in the linear model\nYearlyPrecip3200m<-as.matrix(YearlyPrecip3200m)\n\n\n#Convert the dataframe of ring values to a matrix so that it can be used in the linear model\nRings3200m<-as.matrix(Rings3200m)\n\n# Run a linear model of Ring growth as a function of how much yearly precipitation for each year. When the the variable on the left of the tilda (~) is a matrix the lm function automatically runs a different regression for each column. In Rings3200m each column is one of the radui of a sagebrush shrub. There are at least 2 radii per sagebrush shrub\nlinearModel3200m<- lm(formula = Rings3200m~ YearlyPrecip3200m)\n\n# Print out the results of the linear model\nsummary(linearModel3200m)\n\n\n\n# I challenge you to make linear models of Sagebrush ring growth at 3500m and 3800m as a function of precipitation (Precip3500m; Precip3800m) and temperature (Temp3500m; Temp3800m).\n\n\n# Bonus points:\n\n\n# There are several \"key assumptions\" that should be met when using a linear model:\n\n# -No auto-correlation***\n\n# -Normality of the error distribution (residuals)\n\n# -No or little multicollinearity\n\n# -Homoscedasticity\n\n# Does the linear models you made meet those assumptions?\n\n# *** Radial growth rings are often auto-correlated :( I am still trying to figure out how to deal with that without using a detrending technique that will remove long-term growth trends ( Slowly increasing growth in response to slowly warming temperatures)\n\n\n\n\n# Message for if you are just beginning to learn R:\n#   Once you learn the difference between the data types: dataframe, vector, matrix, list, \n#   and the atomic types of data: integer, numeric, character, boolean \n#   then the function str() is your best friend. \n#   Also type ?SomeFunctionName into the console and press enter to \n#   get the help document in the bottom right of your screen. \n#   For example entering ?lm into the console will tell you what inputs you \n#   need AND what data type ( dataframe, vector, list, boolean) that input needs to be \n#   in order to make a linear model in R. Googling for R tutorials is also crucial. \n#   Hope that helps -Chris\n",
    "created" : 1461359345108.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2083694416",
    "id" : "32BF4BF5",
    "lastKnownWriteTime" : 1461624457,
    "path" : "C:/Users/Tower/Desktop/Sagebrush's response to Climate/R-code Sagebrush response to Climate/Sagebrush Response to Climate R Studio Project/TreeRingMeeting1/TreeRingMeeting1.R",
    "project_path" : "TreeRingMeeting1/TreeRingMeeting1.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 8,
    "source_on_save" : true,
    "type" : "r_source"
}